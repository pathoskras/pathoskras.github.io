<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KRAS Annotation</title>
    <meta name="apple-mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="/drawerJs/drawerJs.css"/>
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/canvas/canvas.css">
	<style>
	body,
    html {
      position: fixed;
      width: 100vw;
    }
    div#footer {
        background: white;
        border-top: solid 1px black;
        height: 15vh;
        position: fixed;
        bottom: 0;
        width: 100vw;
    }
    #footer .nav-button {
        background: white;
        padding: 0.5vh;
        width: 15vh;
        height: 15vh;
        margin-right: -5px;
        cursor: pointer;
    }

    #footer .nav-button img {
        object-fit: cover;
    }
    #footer .nav-button:hover {
        border: solid 3px black;
        background: red;
    }

    img.bigImage, textarea.bigText {
        width: 70vw;
    }
	</style>
    {{> styles }}
    <script src="/js/vendor.min.js"></script>
    <script src="/drawerJs/drawerJs.standalone.js"></script>
    <script src="/js/showdown.min.js"></script>

</head>

<body>
    <div id="wrapper" class="container-fluid page">
        <div class="row">
            <div class="col-md-2 col-xs-3 sidebar">
                <span>Kras mutation</span>
                {{! <input placeholder="Placeholder"> }}
                <ul>
                    <li><a href="#Welcome" onclick="welcome()">Welcome</a></li>
                    {{#images}}
                    <li>
                        <a href="#{{image}}" onclick="openScreen('{{image}}')">{{name}}</a>
                    </li>
                    {{/images}}
                    <li><a href="#Email" onclick="email()">Email</a></li>
                </ul>
            </div>
            <div class="col-md-10 col-xs-9">
            {{! Content goes here! }}

                <div id='contentBox'></div>

            </div>
        </div>
    
    </div>

{{!     
    <div id="footer">
        <div>
            <img class="nav-button" src="/images/home.png">
            {{#images} }
            <img class="nav-button" src="/images/{{image} }">
            {{/images} }
            <img class="nav-button" src="/images/email.png">

        </div>
    </div>
}}


{{> scripts }}

<script type="text/javascript">
const md = new showdown.Converter({openLinksInNewWindow: true});
welcome();

function welcome() {
    console.log("hello!");

    $("#contentBox").html(md.makeHtml(`
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lobortis elementum nibh tellus molestie nunc non. Mattis vulputate enim nulla aliquet porttitor lacus. Vulputate eu scelerisque felis imperdiet. Sed libero enim sed faucibus turpis. Faucibus turpis in eu mi bibendum neque. Bibendum arcu vitae elementum curabitur vitae nunc sed velit. Quis vel eros donec ac. Amet luctus venenatis lectus magna. In hac habitasse platea dictumst. Feugiat in fermentum posuere urna nec tincidunt praesent semper feugiat. Quis imperdiet massa tincidunt nunc. Elit scelerisque mauris pellentesque pulvinar pellentesque habitant morbi tristique. Interdum varius sit amet mattis. Dictumst vestibulum rhoncus est pellentesque elit. Vulputate mi sit amet mauris. Et netus et malesuada fames ac. Egestas congue quisque egestas diam.

Aliquam id diam maecenas ultricies mi. Tincidunt tortor aliquam nulla facilisi. Lectus nulla at volutpat diam ut venenatis tellus in metus. Molestie at elementum eu facilisis sed. Egestas quis ipsum suspendisse ultrices. Velit ut tortor pretium viverra suspendisse potenti. Suspendisse faucibus interdum posuere lorem ipsum dolor sit amet consectetur. Ultricies mi quis hendrerit dolor magna eget est lorem. Sed faucibus turpis in eu mi. Turpis egestas sed tempus urna et pharetra. Morbi tristique senectus et netus et malesuada fames ac turpis.
    `)).append(`<iframe width="560" height="315" src="https://www.youtube.com/embed/s8GxvVrnF38?controls=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`);
}


function openScreen(image){
    $("#contentBox").html("");
    var div = d3.select("#contentBox").append("div");
    div.append("img").attrs({
        class: "bigImage",
        src: `/images/${image}`
    });
    div2 = d3.select("#contentBox").append("div");
    div2.append("h3").text("Notes:");    
    div2.append("textarea").attrs({
        class: "bigText"
    });
}

function email() {
    $("#contentBox").html("");
    var div = d3.select("#contentBox").append("div");
    var form = div.append("form").attrs({
        action: "test"
    });
    form.append("label").text("Email:");
    form.append("input").attrs({
        name: "email",
        type: "email",
        required: true
    });
    form.append("input").attrs({
        type: "submit"
    });
}





    {{! This stuff belongs to the basic version
    $(document).ready(function () {
        $('#canvas-display').paintBrush();

        setTimeout(function(){
            make_base();
        },1500);
    });

    var canvas = document.getElementById('canvas-display'),
    context = canvas.getContext('2d');


    function make_base()
    {
        console.log("making base");
        base_image = new Image();
        base_image.src = 'images/a.jpg';
        context.drawImage(base_image, 100, 100);
    } }}

</script>

</body>

</html>